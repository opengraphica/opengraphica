"use strict";(self.webpackChunkOpenGraphica=self.webpackChunkOpenGraphica||[]).push([[7475],{57716:(e,i,o)=>{o.r(i),o.d(i,{default:()=>P});var l=o(66252),n=o(3577);const t={class:"has-text-right"};var r=o(2262);const a=JSON.parse('[{"name":"640x480 (SD 480p)","width":640,"height":480,"measuringUnits":"px","resolutionX":72,"resolutionY":72,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":1},{"name":"800x600 (SVGA)","width":800,"height":600,"measuringUnits":"px","resolutionX":72,"resolutionY":72,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":1},{"name":"1024x768 (XGA)","width":1024,"height":768,"measuringUnits":"px","resolutionX":72,"resolutionY":72,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":1},{"name":"1280x720 (HD 720p)","width":1280,"height":720,"measuringUnits":"px","resolutionX":72,"resolutionY":72,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":1},{"name":"1600x1200 (UXGA)","width":1600,"height":1200,"measuringUnits":"px","resolutionX":72,"resolutionY":72,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":1},{"name":"1920x1080 (Full HD 1080p)","width":1920,"height":1080,"measuringUnits":"px","resolutionX":72,"resolutionY":72,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":1},{"name":"3840x2160 (4K UHD)","width":3840,"height":2160,"measuringUnits":"px","resolutionX":72,"resolutionY":72,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":1},{"name":"iPhone 12 Pro Max","width":1284,"height":2778,"measuringUnits":"in","resolutionX":458,"resolutionY":458,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":3},{"name":"iPhone 12, 12 Pro","width":1170,"height":2532,"measuringUnits":"in","resolutionX":460,"resolutionY":460,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":3},{"name":"iPhone 12 Mini","width":1080,"height":2340,"measuringUnits":"in","resolutionX":476,"resolutionY":476,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":3},{"name":"iPhone 11 Pro Max, XS Max","width":1242,"height":2688,"measuringUnits":"in","resolutionX":458,"resolutionY":458,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":3},{"name":"iPhone 11 Pro, X, XS","width":1125,"height":2436,"measuringUnits":"in","resolutionX":458,"resolutionY":458,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":3},{"name":"iPhone 11, XR","width":828,"height":1792,"measuringUnits":"in","resolutionX":326,"resolutionY":326,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":3},{"name":"iPhone 11","width":828,"height":1792,"measuringUnits":"in","resolutionX":326,"resolutionY":326,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":2},{"name":"iPhone 8+, 7+, 6s+, 6+","width":1242,"height":2208,"measuringUnits":"in","resolutionX":401,"resolutionY":401,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":3},{"name":"iPhone 8, 7, 6s, 6","width":750,"height":1334,"measuringUnits":"in","resolutionX":326,"resolutionY":326,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":2},{"name":"iPhone 5s, 5c, 5","width":640,"height":1136,"measuringUnits":"in","resolutionX":326,"resolutionY":326,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":2},{"name":"iPhone 4s","width":640,"height":960,"measuringUnits":"in","resolutionX":326,"resolutionY":326,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":2},{"name":"iPhone 3GS, 3G, Gen 1","width":320,"height":480,"measuringUnits":"in","resolutionX":163,"resolutionY":163,"resolutionUnits":"px/in","colorProfile":"sRGB","scaleFactor":1}]');var s=o(64670),u=o(9069),m=o(92056),g=o(71371),d=o(97965),c=o(98653),h=o(43019),p=o(16131),w=o(91457),f=o(63063),U=o(71401);const F=a,k=(0,l.aZ)({name:"ModuleFileNew",directives:{loading:h.ZP.directive},components:{ElButton:s.ZP,ElForm:u.ZP,ElFormItem:u.nH,ElFormItemGroup:m.Z,ElFormItemAlignedGroups:g.Z,ElInput:d.default,ElInputNumber:c.Z,ElOption:p.BT,ElSelect:p.ZP},emits:["update:title","close"],setup(e,{emit:i}){i("update:title","module.fileNew.title");const o=(0,w.$b)("$notify"),n=(0,r.iH)(),t=(0,r.iH)(!1);let a=!1;const s=(0,r.qj)(F.map((e=>({value:e.name,label:e.name})))),u=(0,r.iH)(),m=(0,r.qj)(["sRGB"]),g=(0,r.qj)({workingFile:{measuringUnits:"px",width:1e3,height:1e3,resolution:300,resolutionUnits:"px/in",colorProfile:"sRGB",scaleFactor:1}}),d={width:[{required:!0,message:"Please input a width"},{validator:function(e,i){return!(i<=0)||new Error("Width must be greater than zero")},trigger:"blur"}],height:[{required:!0,message:"Please input a width"},{validator:function(e,i){return!(i<=0)||new Error("Height must be greater than zero")}}]};return(0,l.YP)((()=>g.workingFile.measuringUnits),((e,i)=>{if(!a){let o=(0,f.L3)(g.workingFile.width,i,e,g.workingFile.resolution,g.workingFile.resolutionUnits),l=(0,f.L3)(g.workingFile.height,i,e,g.workingFile.resolution,g.workingFile.resolutionUnits);"px"===e&&(o=Math.round(o),l=Math.round(l)),g.workingFile.width=o,g.workingFile.height=l}})),{form:n,loading:t,presetOptions:s,dimensionUnitOptions:[{value:"px",label:"measurement.pixels"},{value:"mm",label:"measurement.millimeters"},{value:"cm",label:"measurement.centimeters"},{value:"in",label:"measurement.inches"}],resolutionUnitOptions:[{value:"px/in",label:"measurement.pixelsPerInch"},{value:"px/mm",label:"measurement.pixelsPerMillimeter"},{value:"px/cm",label:"measurement.pixelsPerCentimeter"}],colorProfileOptions:m,selectedPreset:u,formData:g,formValidationRules:d,onCancel:function(){i("close")},onChangeSelectedPreset:async function(e){const i=F.filter((i=>i.name===e))[0];i&&(a=!0,g.workingFile.measuringUnits="px",g.workingFile.width=(0,f.L3)(i.width,"px",i.measuringUnits,i.resolutionX,i.resolutionUnits),g.workingFile.height=(0,f.L3)(i.height,"px",i.measuringUnits,i.resolutionY,i.resolutionUnits),g.workingFile.resolutionUnits=i.resolutionUnits,g.workingFile.resolution=i.resolutionX,g.workingFile.colorProfile=i.colorProfile,g.workingFile.scaleFactor=i.scaleFactor,g.workingFile.measuringUnits=i.measuringUnits,await(0,l.Y3)(),a=!1)},onCreate:async function(){if(n.value)try{await n.value.validate(),t.value=!0;try{document.activeElement.blur(),await new Promise((e=>{setTimeout(e,100)}))}catch(e){}try{let e=(0,f.L3)(g.workingFile.width,g.workingFile.measuringUnits,"px",g.workingFile.resolution,g.workingFile.resolutionUnits),i=(0,f.L3)(g.workingFile.height,g.workingFile.measuringUnits,"px",g.workingFile.resolution,g.workingFile.resolutionUnits);await(0,U.createNewFile)({measuringUnits:g.workingFile.measuringUnits,width:Math.max(1,e%1<1e-16?Math.floor(e):Math.ceil(e)),height:Math.max(1,i%1<1e-16?Math.floor(i):Math.ceil(i)),resolutionX:g.workingFile.resolution,resolutionY:g.workingFile.resolution,resolutionUnits:g.workingFile.resolutionUnits,scaleFactor:g.workingFile.scaleFactor})}catch(e){o({type:"error",dangerouslyUseHTMLString:!0,message:w.Ol})}i("close"),t.value=!1}catch(e){o({type:"error",dangerouslyUseHTMLString:!0,message:w.v7})}},onInputAny:function(){a||(u.value="")}}}}),P=(0,o(83744).Z)(k,[["render",function(e,i,o,r,a,s){const u=(0,l.up)("el-option"),m=(0,l.up)("el-select"),g=(0,l.up)("el-form-item"),d=(0,l.up)("el-form-item-group"),c=(0,l.up)("el-input-number"),h=(0,l.up)("el-form-item-aligned-groups"),p=(0,l.up)("el-button"),w=(0,l.up)("el-form"),f=(0,l.Q2)("loading");return(0,l.wy)(((0,l.wg)(),(0,l.j4)(w,{ref:"form",action:"javascript:void(0)","label-position":"left",model:e.formData.workingFile,rules:e.formValidationRules,novalidate:"novalidate","hide-required-asterisk":"",onSubmit:e.onCreate},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{label:e.$t("module.fileNew.preset")},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:e.selectedPreset,"onUpdate:modelValue":i[0]||(i[0]=i=>e.selectedPreset=i),placeholder:e.$t("module.fileNew.presetPlaceholder"),clearable:"",filterable:"",onChange:e.onChangeSelectedPreset},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.presetOptions,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder","onChange"])])),_:1},8,["label"])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{label:e.$t("module.fileNew.width"),prop:"width"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{min:0,modelValue:e.formData.workingFile.width,"onUpdate:modelValue":i[2]||(i[2]=i=>e.formData.workingFile.width=i),onInput:e.onInputAny},{append:(0,l.w5)((()=>[(0,l.Wm)(m,{style:{width:"6rem"},modelValue:e.formData.workingFile.measuringUnits,"onUpdate:modelValue":i[1]||(i[1]=i=>e.formData.workingFile.measuringUnits=i),onChange:e.onInputAny},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.dimensionUnitOptions,(i=>((0,l.wg)(),(0,l.j4)(u,{key:i.value,label:i.value,value:i.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.toDisplayString)(e.$t(i.label)),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1},8,["modelValue","onInput"])])),_:1},8,["label"]),(0,l.Wm)(g,{label:e.$t("module.fileNew.height"),prop:"height"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{min:0,modelValue:e.formData.workingFile.height,"onUpdate:modelValue":i[4]||(i[4]=i=>e.formData.workingFile.height=i),onInput:e.onInputAny},{append:(0,l.w5)((()=>[(0,l.Wm)(m,{style:{width:"6rem"},modelValue:e.formData.workingFile.measuringUnits,"onUpdate:modelValue":i[3]||(i[3]=i=>e.formData.workingFile.measuringUnits=i),onChange:e.onInputAny},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.dimensionUnitOptions,(i=>((0,l.wg)(),(0,l.j4)(u,{key:i.value,label:i.value,value:i.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.toDisplayString)(e.$t(i.label)),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1},8,["modelValue","onInput"])])),_:1},8,["label"]),(0,l.Wm)(g,{label:e.$t("module.fileNew.resolution"),prop:"resolution"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{modelValue:e.formData.workingFile.resolution,"onUpdate:modelValue":i[6]||(i[6]=i=>e.formData.workingFile.resolution=i),modelModifiers:{lazy:!0},min:1,precision:0,onInput:e.onInputAny},{append:(0,l.w5)((()=>[(0,l.Wm)(m,{style:{width:"6rem"},modelValue:e.formData.workingFile.resolutionUnits,"onUpdate:modelValue":i[5]||(i[5]=i=>e.formData.workingFile.resolutionUnits=i),onChange:e.onInputAny},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.resolutionUnitOptions,(i=>((0,l.wg)(),(0,l.j4)(u,{key:i.value,label:i.value,value:i.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.toDisplayString)(e.$t(i.label)),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1},8,["modelValue","onInput"])])),_:1},8,["label"]),(0,l.Wm)(g,{label:e.$t("module.fileNew.colorProfile"),prop:"colorProfile"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{modelValue:e.formData.workingFile.colorProfile,"onUpdate:modelValue":i[7]||(i[7]=i=>e.formData.workingFile.colorProfile=i),onChange:e.onInputAny},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.colorProfileOptions,(e=>((0,l.wg)(),(0,l.j4)(u,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])])),_:1},8,["label"]),(0,l.Wm)(g,{label:e.$t("module.fileNew.scaleFactor"),prop:"scaleFactor"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{modelValue:e.formData.workingFile.scaleFactor,"onUpdate:modelValue":i[8]||(i[8]=i=>e.formData.workingFile.scaleFactor=i),min:1,precision:0},null,8,["modelValue"])])),_:1},8,["label"])])),_:1})])),_:1}),(0,l._)("div",t,[(0,l.Wm)(p,{onClick:e.onCancel},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.toDisplayString)(e.$t("button.cancel")),1)])),_:1},8,["onClick"]),(0,l.Wm)(p,{type:"primary","native-type":"submit"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.toDisplayString)(e.$t("button.create")),1)])),_:1})])])),_:1},8,["model","rules","onSubmit"])),[[f,e.loading]])}]])}}]);