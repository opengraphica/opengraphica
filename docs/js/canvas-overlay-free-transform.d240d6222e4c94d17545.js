"use strict";(self.webpackChunkOpenGraphica=self.webpackChunkOpenGraphica||[]).push([[2307],{17050:(e,l,r)=>{r.r(l),r.d(l,{default:()=>Y});var i=r(66252),t=r(3577),a=r(49963);const o={ref:"overlay",class:"ogr-canvas-overlay"},d=(0,i._)("div",{class:"ogr-free-transform-handle-rotate-line"},null,-1),g={viewBox:"0 0 100 100"},n=["stroke"],h=["fill"],s={viewBox:"0 0 100 100"},H=["fill","stroke"],f={viewBox:"0 0 100 100"},c=["fill","stroke"],_={viewBox:"0 0 100 100"},v=["fill","stroke"],m={viewBox:"0 0 100 100"},T=["fill","stroke"],w={viewBox:"0 0 100 100"},u=["fill","stroke"],D={viewBox:"0 0 100 100"},G=["fill","stroke"],R={viewBox:"0 0 100 100"},E=["fill","stroke"],y={viewBox:"0 0 100 100"},P=["fill","stroke"];var L=r(2262),O=r(84151),A=r(91648);const k=(0,i.aZ)({name:"CanvasOverlayCropResize",emits:[],props:{},setup(e,{emit:l}){const r=(0,L.iH)(null),t=(0,L.iH)(1),a=(0,L.iH)(!1),o=(0,L.iH)(!1),d=(0,L.iH)(0),g=(0,L.iH)(0),n=(0,L.iH)(0),h=(0,L.iH)(0),s=(0,L.iH)(""),H=(0,L.iH)("0% 0%"),f=(0,i.Fl)((()=>O.NF.value.length));function c(e){if(e){H.value=`${100*O.OC.value}% ${100*O.bv.value}%`,r.value.style.transformOrigin=H.value;const l=(new DOMMatrix).translateSelf(O.t$.value,O.we.value).rotateSelf(O.Wn.value*Math.RADIANS_TO_DEGREES);s.value=`matrix(${l.a},${l.b},${l.c},${l.d},${l.e},${l.f})`,r.value.style.transform=s.value,null!=e.width&&(n.value=e.width,r.value.style.width=n+"px"),null!=e.height&&(h.value=e.height,r.value.style.height=h+"px"),a.value=O.bf.value<36,o.value=O.Cb.value<36}}return(0,i.YP)((()=>A.Z.state.decomposedTransform),(e=>{let l=e.scaleX/window.devicePixelRatio;l!==t.value&&(t.value=l)}),{immediate:!0}),(0,i.bv)((()=>{O.V$.on("setDimensions",c),c({top:O.we.value,left:O.t$.value,width:O.bf.value,height:O.Cb.value,rotation:O.Wn.value,transformOriginX:O.bv.value,transformOriginY:O.OC.value})})),(0,i.Ah)((()=>{O.V$.off("setDimensions",c)})),{DRAG_TYPE_ALL:0,DRAG_TYPE_TOP:1,DRAG_TYPE_BOTTOM:2,DRAG_TYPE_LEFT:4,DRAG_TYPE_RIGHT:8,isBoundsIndeterminate:O.G$,selectedLayerCount:f,hideVerticalSideHandles:a,hideHorizontalSideHandles:o,freeTransform:r,top:d,left:g,width:n,height:h,transform:s,transformOrigin:H,zoom:t,rotateHandleHighlight:O.Gd,dragHandleHighlight:O.G0,dragHandleHighlightColor:"#ecf5ff",dragHandleHighlightBorderColor:"#b3d8ff"}}}),Y=(0,r(83744).Z)(k,[["render",function(e,l,r,L,O,A){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.wy)((0,i._)("div",{ref:"freeTransform",class:"ogr-free-transform",style:(0,t.normalizeStyle)({width:e.width+"px",height:e.height+"px",transform:e.transform,transformOrigin:e.transformOrigin})},[(0,i._)("div",{class:"ogr-free-transform-bounds",style:(0,t.normalizeStyle)({outlineWidth:.35/e.zoom+"rem"})},null,4),(0,i._)("div",{class:"ogr-free-transform-handle-rotate",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")",top:-2/e.zoom+"rem"})},[d,((0,i.wg)(),(0,i.iD)("svg",g,[(0,i._)("circle",{cx:"50",cy:"50",r:"45",fill:"white",stroke:!0===e.rotateHandleHighlight?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,n),(0,i._)("circle",{cx:"50",cy:"50",r:"25",fill:!0===e.rotateHandleHighlight?e.dragHandleHighlightBorderColor:"#ccc"},null,8,h)]))],4),(0,i.wy)((0,i._)("div",{class:"ogr-free-transform-handle-top",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")"})},[((0,i.wg)(),(0,i.iD)("svg",s,[(0,i._)("path",{d:"M10 10 L90 10 L90 90 L10 90 Z",fill:e.dragHandleHighlight===e.DRAG_TYPE_TOP?e.dragHandleHighlightColor:"white",stroke:e.dragHandleHighlight===e.DRAG_TYPE_TOP?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,H)]))],4),[[a.vShow,!e.hideVerticalSideHandles]]),(0,i.wy)((0,i._)("div",{class:"ogr-free-transform-handle-left",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")"})},[((0,i.wg)(),(0,i.iD)("svg",f,[(0,i._)("path",{d:"M10 10 L90 10 L90 90 L10 90 Z",fill:e.dragHandleHighlight===e.DRAG_TYPE_LEFT?e.dragHandleHighlightColor:"white",stroke:e.dragHandleHighlight===e.DRAG_TYPE_LEFT?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,c)]))],4),[[a.vShow,!e.hideHorizontalSideHandles]]),(0,i.wy)((0,i._)("div",{class:"ogr-free-transform-handle-bottom",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")"})},[((0,i.wg)(),(0,i.iD)("svg",_,[(0,i._)("path",{d:"M10 10 L90 10 L90 90 L10 90 Z",fill:e.dragHandleHighlight===e.DRAG_TYPE_BOTTOM?e.dragHandleHighlightColor:"white",stroke:e.dragHandleHighlight===e.DRAG_TYPE_BOTTOM?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,v)]))],4),[[a.vShow,!e.hideVerticalSideHandles]]),(0,i.wy)((0,i._)("div",{class:"ogr-free-transform-handle-right",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")"})},[((0,i.wg)(),(0,i.iD)("svg",m,[(0,i._)("path",{d:"M10 10 L90 10 L90 90 L10 90 Z",fill:e.dragHandleHighlight===e.DRAG_TYPE_RIGHT?e.dragHandleHighlightColor:"white",stroke:e.dragHandleHighlight===e.DRAG_TYPE_RIGHT?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,T)]))],4),[[a.vShow,!e.hideHorizontalSideHandles]]),(0,i._)("div",{class:"ogr-free-transform-handle-top-left",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")"})},[((0,i.wg)(),(0,i.iD)("svg",w,[(0,i._)("path",{d:"M10 10 L90 10 L90 90 L10 90 Z",fill:e.dragHandleHighlight===(e.DRAG_TYPE_TOP|e.DRAG_TYPE_LEFT)?e.dragHandleHighlightColor:"white",stroke:e.dragHandleHighlight===(e.DRAG_TYPE_TOP|e.DRAG_TYPE_LEFT)?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,u)]))],4),(0,i._)("div",{class:"ogr-free-transform-handle-top-right",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")"})},[((0,i.wg)(),(0,i.iD)("svg",D,[(0,i._)("path",{d:"M10 10 L90 10 L90 90 L10 90 Z",fill:e.dragHandleHighlight===(e.DRAG_TYPE_TOP|e.DRAG_TYPE_RIGHT)?e.dragHandleHighlightColor:"white",stroke:e.dragHandleHighlight===(e.DRAG_TYPE_TOP|e.DRAG_TYPE_RIGHT)?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,G)]))],4),(0,i._)("div",{class:"ogr-free-transform-handle-bottom-left",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")"})},[((0,i.wg)(),(0,i.iD)("svg",R,[(0,i._)("path",{d:"M10 10 L90 10 L90 90 L10 90 Z",fill:e.dragHandleHighlight===(e.DRAG_TYPE_BOTTOM|e.DRAG_TYPE_LEFT)?e.dragHandleHighlightColor:"white",stroke:e.dragHandleHighlight===(e.DRAG_TYPE_BOTTOM|e.DRAG_TYPE_LEFT)?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,E)]))],4),(0,i._)("div",{class:"ogr-free-transform-handle-bottom-right",style:(0,t.normalizeStyle)({transform:"scale("+1/e.zoom+")"})},[((0,i.wg)(),(0,i.iD)("svg",y,[(0,i._)("path",{d:"M10 10 L90 10 L90 90 L10 90 Z",fill:e.dragHandleHighlight===(e.DRAG_TYPE_BOTTOM|e.DRAG_TYPE_RIGHT)?e.dragHandleHighlightColor:"white",stroke:e.dragHandleHighlight===(e.DRAG_TYPE_BOTTOM|e.DRAG_TYPE_RIGHT)?e.dragHandleHighlightBorderColor:"#ccc","stroke-width":"10"},null,8,P)]))],4)],4),[[a.vShow,e.selectedLayerCount>0&&!e.isBoundsIndeterminate]])],512)}]])}}]);