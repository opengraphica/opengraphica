"use strict";(self.webpackChunkOpenGraphica=self.webpackChunkOpenGraphica||[]).push([[8877],{17765:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=l(65576),a=l(8771),o=l(39623),s=l(98),n=l(66090);const i=r.withInstall(a.default);t.BAR_MAP=o.BAR_MAP,t.renderThumbStyle=o.renderThumbStyle,t.scrollbarEmits=s.scrollbarEmits,t.scrollbarProps=s.scrollbarProps,t.thumbProps=n.thumbProps,t.ElScrollbar=i,t.default=i},33371:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=l(80230).buildProps({always:{type:Boolean,default:!0},width:{type:String,default:""},height:{type:String,default:""},ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}});t.barProps=r},69476:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=l(76765),a=l(59284),o=l(33371),s=l(41820);const n=r.defineComponent({components:{Thumb:a.default},props:o.barProps,setup(e){const t=r.ref(0),l=r.ref(0);return{handleScroll:r=>{if(r){const a=r.offsetHeight-4,o=r.offsetWidth-4;l.value=100*r.scrollTop/a*e.ratioY,t.value=100*r.scrollLeft/o*e.ratioX}},moveX:t,moveY:l}}});var i=s.default(n,[["render",function(e,t,l,a,o,s){const n=r.resolveComponent("thumb");return r.openBlock(),r.createElementBlock(r.Fragment,null,[r.createVNode(n,{move:e.moveX,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),r.createVNode(n,{move:e.moveY,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64)}]]);t.default=i},98:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=l(80230),a=l(35450);const o=r.buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:r.definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}}),s={scroll:({scrollTop:e,scrollLeft:t})=>a.isNumber(e)&&a.isNumber(t)};t.scrollbarEmits=s,t.scrollbarProps=o},8771:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=l(76765),a=l(89906),o=l(35450),s=l(31617);l(93531),l(33676);var n=l(69476),i=l(98),u=l(41820),c=l(4761),v=l(72903);const d=r.defineComponent({name:"ElScrollbar",components:{Bar:n.default},props:i.scrollbarProps,emits:i.scrollbarEmits,setup(e,{emit:t}){const l=c.useNamespace("scrollbar");let n,i;const u=r.ref(),d=r.ref(),m=r.ref(),f=r.ref("0"),p=r.ref("0"),b=r.ref(),h=r.ref(0),y=r.ref(0),w=r.ref(1),g=r.ref(1),S="ElScrollbar",z=r.computed((()=>{const t={};return e.height&&(t.height=o.addUnit(e.height)),e.maxHeight&&(t.maxHeight=o.addUnit(e.maxHeight)),[e.wrapStyle,t]})),E=()=>{if(!d.value)return;const t=d.value.offsetHeight-4,l=d.value.offsetWidth-4,r=t**2/d.value.scrollHeight,a=l**2/d.value.scrollWidth,o=Math.max(r,e.minSize),s=Math.max(a,e.minSize);w.value=r/(t-r)/(o/(t-o)),g.value=a/(l-a)/(s/(l-s)),p.value=o+4<t?`${o}px`:"",f.value=s+4<l?`${s}px`:""};return r.watch((()=>e.noresize),(e=>{e?(null==n||n(),null==i||i()):(({stop:n}=a.useResizeObserver(m,E)),i=a.useEventListener("resize",E))}),{immediate:!0}),r.provide(v.scrollbarContextKey,r.reactive({scrollbarElement:u,wrapElement:d})),r.onMounted((()=>{e.native||r.nextTick((()=>E()))})),{ns:l,scrollbar$:u,wrap$:d,resize$:m,barRef:b,moveX:h,moveY:y,ratioX:g,ratioY:w,sizeWidth:f,sizeHeight:p,style:z,update:E,handleScroll:()=>{var e;d.value&&(null==(e=b.value)||e.handleScroll(d.value),t("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))},setScrollTop:e=>{o.isNumber(e)?d.value.scrollTop=e:s.debugWarn(S,"value must be a number")},setScrollLeft:e=>{o.isNumber(e)?d.value.scrollLeft=e:s.debugWarn(S,"value must be a number")}}}});var m=u.default(d,[["render",function(e,t,l,a,o,s){const n=r.resolveComponent("bar");return r.openBlock(),r.createElementBlock("div",{ref:"scrollbar$",class:r.normalizeClass(e.ns.b())},[r.createElementVNode("div",{ref:"wrap$",class:r.normalizeClass([e.wrapClass,e.ns.e("wrap"),{[e.ns.em("wrap","hidden-default")]:!e.native}]),style:r.normalizeStyle(e.style),onScroll:t[0]||(t[0]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(e.tag),{ref:"resize$",class:r.normalizeClass([e.ns.e("view"),e.viewClass]),style:r.normalizeStyle(e.viewStyle)},{default:r.withCtx((()=>[r.renderSlot(e.$slots,"default")])),_:3},8,["class","style"]))],38),e.native?r.createCommentVNode("v-if",!0):(r.openBlock(),r.createBlock(n,{key:0,ref:"barRef",height:e.sizeHeight,width:e.sizeWidth,always:e.always,"ratio-x":e.ratioX,"ratio-y":e.ratioY},null,8,["height","width","always","ratio-x","ratio-y"]))],2)}]]);t.default=m},66090:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=l(80230).buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean});t.thumbProps=r},59284:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=l(76765),a=l(89906);l(93531);var o=l(31617);l(33676);var s=l(39623),n=l(66090),i=l(41820),u=l(72903),c=l(4761);const v="Thumb",d=r.defineComponent({name:v,props:n.thumbProps,setup(e){const t=r.inject(u.scrollbarContextKey),l=c.useNamespace("scrollbar");t||o.throwError(v,"can not inject scrollbar context");const n=r.ref(),i=r.ref(),d=r.ref({}),m=r.ref(!1);let f=!1,p=!1,b=a.isClient?document.onselectstart:null;const h=r.computed((()=>s.BAR_MAP[e.vertical?"vertical":"horizontal"])),y=r.computed((()=>s.renderThumbStyle({size:e.size,move:e.move,bar:h.value}))),w=r.computed((()=>n.value[h.value.offset]**2/t.wrapElement[h.value.scrollSize]/e.ratio/i.value[h.value.offset])),g=e=>{if(!n.value||!i.value)return;if(!1===f)return;const l=d.value[h.value.axis];if(!l)return;const r=100*(-1*(n.value.getBoundingClientRect()[h.value.direction]-e[h.value.client])-(i.value[h.value.offset]-l))*w.value/n.value[h.value.offset];t.wrapElement[h.value.scroll]=r*t.wrapElement[h.value.scrollSize]/100},S=()=>{f=!1,d.value[h.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",S),z(),p&&(m.value=!1)};r.onBeforeUnmount((()=>{z(),document.removeEventListener("mouseup",S)}));const z=()=>{document.onselectstart!==b&&(document.onselectstart=b)};return a.useEventListener(r.toRef(t,"scrollbarElement"),"mousemove",(()=>{p=!1,m.value=!!e.size})),a.useEventListener(r.toRef(t,"scrollbarElement"),"mouseleave",(()=>{p=!0,m.value=f})),{ns:l,instance:n,thumb:i,bar:h,thumbStyle:y,visible:m,clickTrackHandler:e=>{if(!i.value||!n.value||!t.wrapElement)return;const l=100*(Math.abs(e.target.getBoundingClientRect()[h.value.direction]-e[h.value.client])-i.value[h.value.offset]/2)*w.value/n.value[h.value.offset];t.wrapElement[h.value.scroll]=l*t.wrapElement[h.value.scrollSize]/100},clickThumbHandler:e=>{var t;if(e.stopPropagation(),e.ctrlKey||[1,2].includes(e.button))return;null==(t=window.getSelection())||t.removeAllRanges(),(e=>{e.stopImmediatePropagation(),f=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",S),b=document.onselectstart,document.onselectstart=()=>!1})(e);const l=e.currentTarget;l&&(d.value[h.value.axis]=l[h.value.offset]-(e[h.value.client]-l.getBoundingClientRect()[h.value.direction]))}}}});var m=i.default(d,[["render",function(e,t,l,a,o,s){return r.openBlock(),r.createBlock(r.Transition,{name:e.ns.b("fade")},{default:r.withCtx((()=>[r.withDirectives(r.createElementVNode("div",{ref:"instance",class:r.normalizeClass([e.ns.e("bar"),e.ns.is(e.bar.key)]),onMousedown:t[1]||(t[1]=(...t)=>e.clickTrackHandler&&e.clickTrackHandler(...t))},[r.createElementVNode("div",{ref:"thumb",class:r.normalizeClass(e.ns.e("thumb")),style:r.normalizeStyle(e.thumbStyle),onMousedown:t[0]||(t[0]=(...t)=>e.clickThumbHandler&&e.clickThumbHandler(...t))},null,38)],34),[[r.vShow,e.always||e.visible]])])),_:1},8,["name"])}]]);t.default=m},39623:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},t.renderThumbStyle=({move:e,size:t,bar:l})=>({[l.size]:t,transform:`translate${l.axis}(${e}%)`})}}]);